<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/WEB-INF/templates/template.xhtml">


	<ui:define name="content">


		<h:form>
		
		<br />
		<br />
		
			<h1 style="margin-top:0">Nuevo Artículo</h1> 
			
						<h:panelGrid columns="1" style="width: 100%">
								
						<br />
						<br />

						<h:panelGrid columns="4">

							<h:outputLabel value="Nombre: " for="nomArticulo" />
							<h:inputText style="text-transform:capitalize" id="nomArticulo"
								label="Nombre:" 
								value="#{confArticuloNew.articuloDTO.nomArticulo}" />
							<h:outputLabel />
							<p:message for="nomArticulo" />

							<h:outputLabel value="Material: " for="material" />
							<h:inputText id="material" label="Material" 
								value="#{confArticuloNew.articuloDTO.materialId}" />
							<p:commandButton onclick="PF('dlgm').show();" type="button"
								icon="ui-icon-search" />
							<p:message for="material" />

							<h:outputLabel value="Tipo Artículo: " for="tipo" />
							<p:selectOneMenu id="tipo" label="Tipo" 
								value="#{confArticuloNew.tipoArticulo}" >							
								<f:selectItem itemLabel="Selecionar una opción" itemValue="" />
								<f:selectItems value="#{confArticuloNew.optionsTArt}"
									style="width:100px" />
							</p:selectOneMenu>
							<h:outputLabel />
							<p:message for="tipo" />
						
							<h:outputLabel value="Grupo: " for="grupo" />
							<h:inputText id="grupo" label="Grupo" 
								value="#{confArticuloNew.articuloDTO.grupoId}" />
							<h:commandButton value="Buscar"
								onclick="window.open('/AlmacenDepositoWEB/general/grupo.xhtml')" />
							<p:message for="grupo" />

							<h:outputLabel value="Unidad de Medida: " for="unidad" />
							<h:inputText id="unidad" label="Unidad" 
								value="#{confArticuloNew.articuloDTO.medidaU}" />
							<h:commandButton value="Buscar"
								onclick="window.open('/AlmacenDepositoWEB/general/unidadMedida.xhtml')" />
							<p:message for="unidad" />

							<h:outputText value="Posee Número de Serie: " />
							<p:selectOneRadio id="nroSerie" label="Nro. de serie"
								value="#{confArticuloNew.articuloDTO.nroSerie}" >
								<f:selectItem itemLabel="Si" itemValue="True" />
								<f:selectItem itemLabel="No" itemValue="False" />
							</p:selectOneRadio>
							<h:outputLabel />
							<p:message for="nroSerie" />


							<h:outputText value="Posee Fecha Vencimiento: " />
							<p:selectOneRadio id="fechaVto" label="Fecha vencimiento"
								value="#{confArticuloNew.articuloDTO.vto}" >
								<f:selectItem itemLabel="Si" itemValue="True" />
								<f:selectItem itemLabel="No" itemValue="False" />
							</p:selectOneRadio>
							<h:outputLabel />
							<p:message for="fechaVto" />


							<h:outputText value="Salida por Proyecto de Inversión: " />
							<p:selectOneRadio id="salidaAct"
								label="Salida por Proyecto de Inversión:"
								value="#{confArticuloNew.articuloDTO.act}" >
								<f:selectItem itemLabel="Si" itemValue="True" />
								<f:selectItem itemLabel="No" itemValue="False" />
							</p:selectOneRadio>
							<h:outputLabel />
							<p:message for="salidaAct" />


							<h:outputLabel value="Peso: " for="peso" />
							<h:inputText id="peso" label="Peso" 
								value="#{confArticuloNew.articuloDTO.peso}" />
							<h:outputLabel />
							<p:message for="peso" />

							<h:outputLabel value="Unidad Peso" for="unidadPeso" />
							<h:inputText id="unidadPeso" label="Unidad Peso" 
								value="#{confArticuloNew.articuloDTO.pesoUId}" />
							<h:commandButton value="Buscar"
								onclick="window.open('/AlmacenDepositoWEB/general/unidadMedida.xhtml')" />
							<p:message for="unidadPeso" />

							<h:outputLabel value="Descripción" for="descArt" />
							<h:inputTextarea id="descArt" label="Descripción"
								value="#{confArticuloNew.articuloDTO.descArticulo}" />
							<h:outputLabel />
							<p:message for="descArt" />

							<h:outputLabel value="Partida Parcial" for="partidaParcial" />
							<h:inputText id="partidaParcial" label="Partida Parcial"
								
								value="#{confArticuloNew.articuloDTO.partidaParcialId}" />
							<h:commandButton value="Buscar"
								onclick="window.open('/AlmacenDepositoWEB/general/inciso.xhtml')" />
							<p:message for="partidaParcial" />

							<h:outputLabel value="Código de Clase: " for="codClase" />
							<h:inputText id="codClase" label="Código de Clase: "
								 value="#{confArticuloNew.articuloDTO.codClase}" />
							<h:outputLabel />
							<p:message for="codClase" />

							<h:outputLabel value="Código Ítem" for="codItem" />
							<h:inputText id="codItem" label="Código de Ítem" 
								value="#{confArticuloNew.articuloDTO.codItem}" />
							<h:outputLabel />
							<p:message for="codItem" />
							<!--

							<h:outputText value="Compuesto: " />
							<p:selectOneRadio value="#{confArticuloNew.articuloDTO.isComp}">
								<f:selectItem itemLabel="Si" itemValue="True" />
								<f:selectItem itemLabel="No" itemValue="False" />

							</p:selectOneRadio>
							<h:outputLabel />
							<h:outputLabel />
							-->

						</h:panelGrid>
						<p:commandButton value="Guardar"
							action="#{confArticuloNew.guardarArticulo}" update="msgs" />
							
							
						<br />
						<br />
							<p:messages id="msgs" showDetail="true" />

				
						<br />
						<br />
						<p:commandButton value="Mostrar Artículo"
							action="/general/articulo.xhtml" immediate="true" />
						<br />
						<br />

						<p:commandButton value="Volver al Índice" action="/index.xhtml"
							immediate="true" />
						<br />

						


						<br />

						
						
					
		

			</h:panelGrid>
			
				<p:dialog header="Buscar" widgetVar="dlgm" resizable="false">

							<p:dataTable var="ma" value="#{materialForm.materials}"
								widgetVar="matsTable" multiViewState="true" rows="10"
								paginator="true"
								paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
								rowsPerPageTemplate="5,10,15"
								emptyMessage="No se encontro material"
								filteredValue="#{materialForm.filteredMats}">


								<f:facet name="header">
									<p:outputPanel>
										<h:outputText value="Buscar en Todos los Campos: " />
										<p:inputText id="globalFilter"
											onkeyup="PF('matsTable').filter()" style="width:150px"
											placeholder="Ingrese búsqueda" />
									</p:outputPanel>
								</f:facet>
								
								<p:column headerText="Seleccionar">
									<p:commandButton icon="ui-icon-search" title="seleccionar"
										actionListener="#{confArticuloNew.seleccionarFilaM(ma)}" />

								</p:column>

								<p:column headerText="Código de Material"
									filterBy="#{ma.codMaterial}" filterMatchMode="contains">
									<h:outputText value="#{ma.codMaterial}" />
								</p:column>

								<p:column headerText="Nombre de Material"
									filterBy="#{ma.nomMaterial}" filterMatchMode="contains">
									<h:outputText value="#{ma.nomMaterial}" />
								</p:column>

								<p:column headerText="Descripción de Material"
									filterBy="#{ma.nomMaterial}" filterMatchMode="contains">
									<h:outputText value="#{ma.desMaterial}" />
								</p:column>

								<p:column headerText="Tipo de Material"
									filterBy="#{ma.tipoMaterial}" filterMatchMode="contains">
									<h:outputText value="#{ma.tipoMaterial}" />
								</p:column>



							</p:dataTable>


						</p:dialog>


					
			<br />
		</h:form>


	</ui:define>

</ui:composition>



</html>